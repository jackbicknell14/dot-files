# ./.tmuxinator.yml

name: mohawk
root: ~/sandboxes/mohawk-backend

windows:
  - mohawk:
      layout: 18fb,189x45,0,0[189x33,0,0{52x33,0,0,21,136x33,53,0,37},189x11,0,34,32]

      # Synchronize all panes of this window, can be enabled before or after the pane commands run.
      # "before" represents legacy functionality and will be deprecated in a future release, in favour of "after"
      # synchronize: after
      panes:
        - ipython3 --profile=ipython-mohawk
        -  shell_command:
             - git status
             - echo "Loading tmuxinator from local"
        - flask run

  - db: psql

  - notes: vim ~/.dotfiles/notes/wins.md

  - htop: htop

  - jobs:
     layout: main-vertical
     panes:
       - redis-server
       - redis-cli flushall && redis-cli ping
       - celery -A englishscore.interfaces.tasks.celery_worker.celery worker --loglevel=info
       - celery -A englishscore.interfaces.tasks.celery_worker.celery beat

  - logs:
     layout: even-horizontal
     panes:
        - heroku logs --tail -a es-apiv2-qa

  - pr: cd ~/sandboxes/mohawk-pr && git status

  - ios: cd ~/sandboxes/ios-app

  - jupyter: cd ~/analytics && conda activate base

